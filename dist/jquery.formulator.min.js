!function(a){"use strict";a.fn.formulator=function(n){var r=(a.extend({callback:function(a,n,r){}},n),function(r){var t=r.find("input, select, textarea"),i=r.find('button[type="submit"], submit');!function(){i.prop("disabled",!0),t.change(function(){i.prop("disabled",!1)})}(),function(){if(r.hasClass("form-validate")){r.addClass("form-validate-load"),t.each(function(n,r){a(r).hasClass("not-required")||a(r).prop("required",!0)});var n=r.find(".form-errors");r.validate({errorContainer:n,errorLabelContainer:a("ul",n),wrapper:"li",invalidHandler:function(a,n){return n.numberOfInvalids()},submitHandler:function(a){return!0}})}}(),function(){if(r.hasClass("form-ajax"))r.addClass("form-ajax-load"),i=r.find('[type="submit"]'),i.prop("disabled",!0),n={dataType:"JSON",success:function(a,r,t){n.callback.call(a,r,t)},complete:function(){return i.prop("disabled",!1)}},r.ajaxForm(n)}()});return this.each(function(){r(a(this))})}}(jQuery);