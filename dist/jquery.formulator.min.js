!function(e){"use strict";e.fn.formulator=function(a){var t=(e.extend({},a),function(t){var n=t.find("input, select, textarea"),o=t.find('button[type="submit"], submit'),s=function(){for(var e={},a=window.location.search.substring(1),t=a.split("&"),n=0;n<t.length;n++){var o=t[n].split("=");if(void 0===e[o[0]])e[o[0]]=decodeURIComponent(o[1]);else if("string"==typeof e[o[0]]){var s=[e[o[0]],decodeURIComponent(o[1])];e[o[0]]=s}else e[o[0]].push(decodeURIComponent(o[1]))}return e};!function(){if(t.hasClass("form-validate")&&!t.hasClass("form-validate-load")){t.addClass("form-validate-load"),n.each(function(a,t){e(t).hasClass("not-required")||e(t).prop("required",!0)});var a=t.find(".form-errors");a.html("<ul></ul>"),t.validate({errorContainer:a,errorLabelContainer:e("ul",a),wrapper:"li",invalidHandler:function(e,a){return a.numberOfInvalids()},submitHandler:function(e){return!0}})}}(),function(){if(t.hasClass("form-ajax")&&!t.hasClass("form-ajax-load"))t.addClass("form-ajax-load"),o=t.find('[type="submit"]'),o.prop("disabled",!0),a={dataType:"JSON",success:function(e,a,n){swal({title:e.message.title,text:e.message.text,type:e.message.type,confirmButtonText:e.message.button}),1==e.success&&t[0].reset()},complete:function(){return o.prop("disabled",!1)}},t.ajaxForm(a)}(),function(){o.prop("disabled",!0),n.change(function(){o.prop("disabled",!1)}),n.each(function(a){""!==e(this).val()&&o.prop("disabled",!1)}),n.bind("keypress",function(){o.prop("disabled",!1)})}(),function(){t.hasClass("form-reload")&&!t.hasClass("form-reload-load")&&(t.addClass("form-reload-load"),n.prop("disabled",!0),n.each(function(a,t){var n=e(t).attr("name"),o=s();e(t).val(o[n]),e(t).prop("disabled",!1)}),n.change(function(){t.submit()}))}()});return this.each(function(){t(e(this))})}}(jQuery);